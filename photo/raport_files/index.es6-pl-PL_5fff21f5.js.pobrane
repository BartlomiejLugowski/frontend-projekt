((e,n)=>{for(var o in n)e[o]=n[o]})(window,(e=>{function n(n){for(var o,i,r=n[0],s=n[1],a=0,l=[];a<r.length;a++)i=r[a],{}.hasOwnProperty.call(t,i)&&t[i]&&l.push(t[i][0]),t[i]=0;for(o in s)({}).hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(c&&c(n);l.length;)l.shift()()}var o={},t={1:0};function i(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=e=>{var n=[],o=t[e];if(0!==o)if(o)n.push(o[2]);else{var r=new Promise((n,i)=>{o=t[e]=[n,i]});n.push(o[2]=r);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=(e=>i.p+""+({0:"app",2:"vendors~app"}[e]||e)+".es6-pl-PL_5fff21f5.js")(e),0!==a.src.indexOf(window.location.origin+"/")&&(a.crossOrigin="anonymous");var c=Error();s=n=>{a.onerror=a.onload=null,clearTimeout(l);var o=t[e];if(0!==o){if(o){var i=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",c.name="ChunkLoadError",c.type=i,c.request=r,o[1](c)}t[e]=void 0}};var l=setTimeout(()=>{s({type:"timeout",target:a})},12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(n)},i.m=e,i.c=o,i.d=(e,n,o)=>{i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=(e,n)=>{if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)i.d(o,t,(n=>e[n]).bind(null,t));return o},i.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return i.d(n,"a",n),n},i.o=(e,n)=>({}.hasOwnProperty.call(e,n)),i.p="https://assets.allegrostatic.com/sc-17421/",i.oe=e=>{throw console.error(e),e};var r=window.webpackJsonp_158e2=window.webpackJsonp_158e2||[],s=r.push.bind(r);r.push=n,r=r.slice();for(var a=0;a<r.length;a++)n(r[a]);var c=s;return i(i.s=0)})({0(e,n,o){e.exports=o("WdQY")},"1Q2P"(e,n,o){o.d(n,"b",()=>t),o.d(n,"a",()=>i);const t="SHEET",i="INLINE"},JKLK(e,n,o){o.d(n,"b",()=>t),o.d(n,"a",()=>i);const t="HOME",i="CONSENTS"},MfS2(e){e.exports=JSON.parse('{"versionMinor":"3.3.0","versionMajor":2,"consents":[{"id":1,"name":"Store and/or access information on a device","required":false},{"id":2,"name":"Select basic ads","required":false},{"id":3,"name":"Create a personalised ads profile","required":false},{"id":4,"name":"Select personalised ads","required":false},{"id":5,"name":"Create a personalised content profile","required":false},{"id":6,"name":"Select personalised content","required":false},{"id":7,"name":"Measure ad performance","required":false},{"id":8,"name":"Measure content performance","required":false},{"id":9,"name":"Apply market research to generate audience insights","required":false},{"id":10,"name":"Develop and improve products","required":false},{"id":11,"name":"Ensure security, prevent fraud, and debug","required":true},{"id":12,"name":"Technically deliver ads or content","required":true},{"id":13,"name":"Match and combine offline data sources","required":true},{"id":14,"name":"Link different devices","required":true},{"id":15,"name":"Receive and use automatically-sent device characteristics for identification","required":true}],"vendors":[{"id":"google","name":"Google Advertising Products","privacyPolicy":"https://policies.google.com/privacy","partnerList":"https://support.google.com/admanager/answer/9012903","consents":[1,2,3,4,5,6,7,9,10,11,12,13,14]},{"id":"facebook","name":"Meta","consents":[1,2,3,4],"privacyPolicy":"https://www.facebook.com/policy.php","extraNameInfo":true},{"id":"adform","name":"Adform","privacyPolicy":"https://site.adform.com/privacy-center/platform-privacy/product-and-services-privacy-policy/","consents":[1,2,3,4,7,10,11,12,13,14]},{"id":"gemius","name":"Gemius","privacyPolicy":"https://www.gemius.com/cookie-policy.html","consents":[1,2,3,4,5,6,7,8,9,10,15]},{"id":"medallia","name":"Medallia Inc.","privacyPolicy":"https://www.medallia.com/privacy-policy/","consents":[9]},{"id":"allegroAdsNetwork","name":"Allegro Ads Network","privacyPolicy":"https://allegro.pl/regulamin/zalacznik/5","consents":[1,2,3,4,7,9,10]},{"id":"tikTok","name":"TikTok","privacyPolicy":"https://ads.tiktok.com/i18n/official/policy/product","consents":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],"extraNameInfo":true}]}')},WdQY(e,n,o){o.r(n);var t=o("rRL6"),i=o.n(t),r=o("1Q2P"),s=o("JKLK");const a={layout:r.b,initialView:s.b,pageCached:!1,route:"/",requestUrl:"/",isRwd:!0,isEsiPage:!1};var c=o("rePB"),l=o("Y7fw");function d(){const e={};for(let n=0;n<arguments.length;n++){const o=arguments[n];for(const n in o)e[n]=o[n]}return e}var u=o("Z/HZ"),p=o("ngrl");class h{constructor(e){Object(c.a)(this,"onSave",e=>{this.saveCallback=e}),Object(c.a)(this,"onError",e=>{this.errorCallback=e}),Object(c.a)(this,"getUserConsentModelFromCookieConfiguration",e=>e?e.toUserConsentsModel():new p.a(this.appConfiguration.getRequiredConsentsIds())),Object(c.a)(this,"getCookieConfigurationFromOneCookie",()=>window.opbox.preferences.get("rodoConsents")),Object(c.a)(this,"saveConsents",e=>{const n=this.configurationMapper.toCookieConfiguration(e);this.saveGDPRCookie(this.isGdprPermissionGiven(n)),this.savePreference(n).then(()=>{var e;return null===(e=this.saveCallback)||void 0===e?void 0:e.call(this)}).catch(e=>{var n;return null===(n=this.errorCallback)||void 0===n?void 0:n.call(this,e)})}),Object(c.a)(this,"isGdprPermissionGiven",e=>{if(null==e||!e.vendors)return!1;const{facebook:n,google:o}=e.vendors;return n&&o}),Object(c.a)(this,"savePreference",e=>window.opbox.preferences.set("rodoConsents",e)),this.appConfiguration=e,this.configurationMapper=new u.a(e)}saveGDPRCookie(e){!function(e,n){const o=d(arguments[2]),t=Object.keys(o).map(e=>{const n=o[e];return!0===n?";"+e:`;${"maxAge"===e?"max-age":e}=${(""+n).split(";")[0]}`}).join("");document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(n)}${t}`}("gdpr_permission_given",e?"1":"0",{maxAge:31536e3,path:"/",domain:""+window.location.hostname})}}const g=o("MfS2");class f{constructor(e){var n;this.id=e.id,this.name=e.name,this.privacyPolicy=e.privacyPolicy,this.partnerList=null!==(n=e.partnerList)&&void 0!==n?n:null,this.consents=e.consents,this.extraNameInfo=e.extraNameInfo}}class m{constructor(e,n){Object(c.a)(this,"getConsentVendorsFromAllVendors",e=>e.filter(e=>e.consents.includes(this.id))),this.id=e.id,this.name=e.name,this.required=e.required,this.vendors=this.getConsentVendorsFromAllVendors(n)}}class v{constructor(){Object(c.a)(this,"getAllConsentsIds",()=>new Set(this.consents.map(e=>e.id))),Object(c.a)(this,"getRequiredConsentsIds",()=>new Set(this.consents.filter(e=>e.required).map(e=>e.id))),this.vendors=g.vendors.map(e=>new f(e)),this.versionMinor=g.versionMinor,this.versionMajor=g.versionMajor,this.consents=g.consents.map(e=>new m(e,this.vendors))}}const C=e=>null!=e;class w{constructor(e){Object(c.a)(this,"toUserConsentsModel",()=>new p.a(new Set(this.acceptedConsents))),Object(c.a)(this,"getAcceptedConsents",e=>Object.entries(null!=e?e:[]).map(([e,n])=>n?Number(e):null).filter(C));const{consents:n,modified:o,versionMajor:t,versionMinor:i}=e;this.modified=null!=o?o:null,this.versionMinor=null!=i?i:null,this.versionMajor=null!=t?t:null,this.acceptedConsents=this.getAcceptedConsents(n)}}const b=(e,n)=>{const{versionMajor:o}=n;return C(e)&&C(o)&&e>o},y=(({pluginName:e,clientImplementationVersion:n})=>{try{return JSON.parse(window.document.querySelector(`script[data-serialize-plugin-name="${e}"][data-civ="${n}"]`).textContent)}catch(o){return window.opbox.reportError(Error(`Missing serialized props of plugin "${e}", with civ "${n}"`)),{}}})({pluginName:"rodo",clientImplementationVersion:i.a});y&&window.opbox.plugin.register({name:"rodo"},new class{constructor(e){Object(c.a)(this,"apiRenderInline",(e,n)=>{this.props=Object.assign({},this.props,n),this.modalWrapper=e,this.renderModal()}),Object(c.a)(this,"handleConsentManagerSave",()=>{const{successRedirectUrl:e,layout:n}=this.props;var o;if(e)null===(o=document.defaultView)||void 0===o||o.location.assign(e);else if(n===r.a){var t,i;const e=(null===(t=document.defaultView)||void 0===t?void 0:t.document.referrer)||"https://allegro.pl";null===(i=document.defaultView)||void 0===i||i.location.assign(e)}}),Object(c.a)(this,"handleConsentManagerError",e=>{const{errorRedirectUrl:n}=this.props;var o,t;n&&(null===(o=document.defaultView)||void 0===o||o.opbox.reportError(e),null===(t=document.defaultView)||void 0===t||t.location.assign(n))}),Object(c.a)(this,"handleSave",e=>{this.consentManager.saveConsents(e)}),Object(c.a)(this,"updateConfigurationModel",e=>{this.cookieConfiguration=b(this.props.versionMajor,e)?new w(e):null}),this.props=e,this.modalWrapper=document.getElementById("opbox-gdpr-consents-modal"),this.appConfiguration=new v,this.cookieConfiguration=e.cookieConfiguration?new w(e.cookieConfiguration):null,this.consentManager=new h(this.appConfiguration),this.consentManager.onSave(this.handleConsentManagerSave),this.consentManager.onError(this.handleConsentManagerError),this.modalWrapper&&(e.pageCached||e.isEsiPage?this.renderModalFromOneCookie():requestAnimationFrame(()=>{this.renderModal(!0)}))}getPublicApi(){return{renderInline:this.apiRenderInline}}async renderModal(e=!1){const{initializeApp:n}=await Promise.all([o.e(2),o.e(0)]).then(o.bind(null,"VrWB")),{layout:t,initialView:i,manageConsentsUrl:r}=this.props,s=this.consentManager.getUserConsentModelFromCookieConfiguration(this.cookieConfiguration);n(this.modalWrapper,e,{allConsents:this.appConfiguration.consents,userConsents:s,layout:t,isRwd:window.innerWidth<544,initialView:i,onSave:this.handleSave,manageConsentsUrl:r}),Object(l.b)(this.modalWrapper,this.appConfiguration).boxViewed()}renderModalFromOneCookie(){this.consentManager.getCookieConfigurationFromOneCookie().then(e=>{((e,n)=>!(n&&0!==Object.keys(n).length)||b(e,n))(this.props.versionMajor,e)&&(this.updateConfigurationModel(e),this.renderModal())}).catch(e=>window.opbox.reportError(e))}}((e=>{const{cookieConfiguration:n}=e,o=(e=>!!(null==e?void 0:e.versionMajor)&&!!(null==e?void 0:e.consents))(n)?n:void 0;return Object.assign({},a,e,{cookieConfiguration:o})})(y)).getPublicApi())},Y7fw(e,n,o){o.d(n,"b",()=>l),o.d(n,"a",()=>d);var t=o("Z/HZ"),i=o("ngrl");const r=["modified"];function s(e,n){return((e,n)=>{if(null==e)return{};var o,t,i={},r=Object.keys(e);for(t=0;t<r.length;t++)o=r[t],n.indexOf(o)>=0||(i[o]=e[o]);return i})(new t.a(n).toCookieConfiguration(e),r)}class a{constructor(e,n){this.contextNode=e,this.appConfiguration=n}boxViewed(){window.opbox.analytics.sendEvent({contextNode:this.contextNode,action:"boxView"})}cancelClicked(){this.clicked("cancelButton")}manageButtonClicked(){this.clicked("manageButton")}checkboxChecked(){this.clicked("checkboxChecked")}toggleVendorListVisibilityClicked(){this.clicked("toggleVendorListVisibility")}acceptAllClicked(){this.clicked("closeRODO","acceptAll",{newConsents:s(new i.a(this.appConfiguration.getAllConsentsIds()),this.appConfiguration)})}rejectAllClicked(){this.clicked("closeRODO","rejectAll",{newConsents:s(new i.a(this.appConfiguration.getRequiredConsentsIds()),this.appConfiguration)})}acceptManagedClicked(e){this.clicked("closeRODO","acceptManaged",{newConsents:s(e,this.appConfiguration)})}acceptInlineClicked(e,n){this.clicked("closeRODO","acceptInline",{oldConsents:s(e,this.appConfiguration),newConsents:s(n,this.appConfiguration)})}clicked(e,n,o){const t={contextNode:this.contextNode,label:e,value:n,customParams:o};window.opbox.analytics.sendClickEvent(t)}}let c;function l(e,n){return c=new a(e,n),c}function d(){if(!c)throw Error("Analytics not initialized. First invoke initAnalytics()");return c}},"Z/HZ"(e,n,o){o.d(n,"a",()=>i);var t=o("rePB");class i{constructor(e){Object(t.a)(this,"toCookieConfiguration",e=>{const n=this.consentModelToVendors(e),o=Object.values(n).every(e=>!0===e);return{versionMajor:this.appConfiguration.versionMajor,versionMinor:this.appConfiguration.versionMinor,modified:(new Date).toISOString(),consents:this.consentModelToConsents(e),vendors:n,allVendorsAccepted:o}}),Object(t.a)(this,"consentModelToConsents",e=>this.appConfiguration.consents.reduce((n,o)=>Object.assign({},n,{[o.id]:e.hasConsent(o.id)}),{})),Object(t.a)(this,"consentModelToVendors",e=>this.appConfiguration.vendors.reduce((n,o)=>Object.assign({},n,{[o.id]:o.consents.every(n=>e.hasConsent(n))}),{})),this.appConfiguration=e}}},ngrl(e,n,o){o.d(n,"a",()=>t);class t{constructor(e){this.consentsIds=e}copy(e){return new t(e)}hasConsent(e){return this.consentsIds.has(e)}toggleConsent(e){const n=this.consentsIds.has(e)?((e,n)=>{const o=new Set(e);return o.delete(n),o})(this.consentsIds,e):((e,n)=>{const o=new Set(e);return o.add(n),o})(this.consentsIds,e);return this.copy(n)}}},rRL6(e,n){e.exports="c6e"},rePB(e,n,o){function t(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}o.d(n,"a",()=>t)}}));
//# sourceMappingURL=index.es6-pl-PL_5fff21f5.js.map