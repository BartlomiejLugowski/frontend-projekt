((e,t)=>{for(var m in t)e[m]=t[m]})(window,(e=>{var t={};function m(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,m),r.l=!0,r.exports}return m.m=e,m.c=t,m.d=(e,t,a)=>{m.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},m.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},m.t=(e,t)=>{if(1&t&&(e=m(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(m.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)m.d(a,r,(t=>e[t]).bind(null,r));return a},m.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return m.d(t,"a",t),t},m.o=(e,t)=>({}.hasOwnProperty.call(e,t)),m.p="https://assets.allegrostatic.com/sc-14779/",m(m.s=0)})({"/wBL"(e){e.exports=JSON.parse('{"a":"https://assets.allegrostatic.com/metrum/icon/arrowhead-9148b8f39c.svg","b":"https://assets.allegrostatic.com/metrum/icon/rectangles-stack-974b6f2789.svg","c":"https://assets.allegrostatic.com/metrum/icon/share-54d72ce6aa.svg","d":"https://assets.allegrostatic.com/metrum/icon/star-empty-2c3f1d6b0f.svg","e":"https://assets.allegrostatic.com/metrum/icon/star-full-f9f12f87d5.svg","f":"https://assets.allegrostatic.com/metrum/icon/x-1a6f095eb2.svg"}')},0(e,t,m){e.exports=m("WdQY")},WdQY(e,t,m){m.r(t);var a=m("cDcd"),r=m.n(a),s=m("faye"),n=m.n(s),o=m("rRL6"),_=m.n(o);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var m=arguments[t];for(var a in m)({}).hasOwnProperty.call(m,a)&&(e[a]=m[a])}return e}).apply(this,arguments)}function c(e){var t,m,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(m=c(e[t]))&&(a&&(a+=" "),a+=m);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}var l=function(){for(var e,t,m=0,a="";m<arguments.length;)(e=arguments[m++])&&(t=c(e))&&(a&&(a+=" "),a+=t);return a},h=m("/wBL");const u={"pl-PL":{smsNotification:[["",["powiadomienie sms"]]],getSimilar:[["",["zobacz podobne"]]],smsNotificationError:[["",["Przepraszamy, nie udało się dodać powiadomienia. Spróbuj ponownie za chwilę."]]],close:[["",["zamknij"]]],addToWatchlist:[["",["Dodaj do obserwowanych ofert"]]],removeFromWatchlist:[["",["Usuń z obserwowanych ofert"]]],share:[["",["Udostępnij"]]],expandSmsNotificationMenu:[["",["Rozwiń menu powiadomień sms"]]],collapseSmsNotificationMenu:[["",["Zwiń menu powiadomień sms"]]]}},p=/({{[^}]+}}|{%[^%}]+%})/g,f=/({{[^}]+}})/g,d=/({%[^%}]+%})/g,g=/({{\s*|\s*}}|{%\s*|\s*%})/g;function w(e,t=""){if("string"==typeof e)throw Error("Translation has to be an array");return e.find(e=>e[0]===t)[1]}const y=(e,t,m)=>{const a=u["pl-PL"][e];if(!a)throw Error(`Missing translation for lang "pl-PL" and key "${e}"`);return t?((e,t,m)=>{let a=w(e,t.context);return parseInt(t.count,10)>=0?a=((e,t)=>{const m=1==(a=t)?0:a%10>=2&&a%10<=4&&(a%100<10||a%100>=20)?1:2;var a;return"boolean"!=typeof m?e[m]:e[m?1:0]})(a,t.count):[a]=a,((e,t,m)=>{if(m){let m=0;return e.split(p).map(a=>{if(a.match(d)){const r=t.formatters[m];if(r)return m+=1,r(a.replace(g,""));throw Error(`Missing translation formatter for "${e}"`)}return a.match(f)?t[a.replace(g,"")]:a})}const a=e.match(p);let r=0;return a?a.reduce((m,a)=>{const s=a.replace(g,"");if(a.match(d)){const n=t.formatters[r];if(n)return r+=1,m.replace(a,n(s));throw Error(`Missing translation formatter for "${e}"`)}return a.match(f)?m.replace(a,t[s]):m},e):e})(a,t,m)})(a,t,m):w(a)[0]};function v(e){window&&window.dataLayer&&window.dataLayer.push({event:e})}const b=r.a.createElement;function j({className:e,iconLink:t,withoutFilter:m=!1}){return b("svg",{className:e||"mjyo_6x mse2_40 meqh_en msa3_z4 m0s5_e6 mg9e_4 mvrt_4 mj7a_4 mh36_4 mhd5_0m ivrkk m7er_40",role:"img"},b("image",{className:l(!m&&"m0s5_qh"),xlinkHref:t,width:"100%",height:"100%"}))}const q=r.a.createElement;function x({shareButtonHash:e}){return q("a",{role:"button","aria-label":y("share"),href:e,className:"mgn2_14 mp0t_0a m9qz_yp mp7g_oh mse2_40 mqu1_40 mtsp_ib mli8_k4 mp4t_0 m3h2_0 mryx_0 m911_5r mefy_5r mnyp_5r mdwl_5r msbw_2 mldj_2 mtag_2 mm2b_2 mqvr_2 msa3_z4 mqen_m6 meqh_en m0qj_5r msts_n7 mg9e_0 mj7a_0 mjir_sv m2ha_2 m8qd_qh mjt1_n2 b111p mgmw_u5g mrmn_qo mrhf_u8 m31c_kb m0ux_fp b17e3 mvrt_0 mh36_0 munh_4 _73da5_1JjvI",rel:"nofollow","data-analytics-interaction":!0,"data-analytics-interaction-label":"shareOffer","data-analytics-interaction-custom-flow":"ShowItem",onClick:()=>v("ShareOffer")},q(j,{iconLink:h.c}))}const k=r.a.createElement,{useEffect:S,useRef:N,useState:z}=r.a,E=(e,t,m)=>{window.opbox&&window.opbox.analytics&&m&&window.opbox.analytics.sendEvent({action:e,contextNode:m,label:"ShowItem",customParams:t})};function L({isUserLoggedIn:e,watched:t,watchEventCustomParams:m,watchOfferService:a,redirectFromLoginHash:r}){if(e&&null===t)return null;const[s,n]=z(!1),[o,_]=z(t),{item:{offerId:i}}=m,c=N(null),l=o?h.e:h.d,u=o?"RemoveFromWatchList":"AddToWatchList",p=y(o?"removeFromWatchlist":"addToWatchlist");return S(()=>{if(!a||!e)return;const t=(s=r,window.location.hash===s&&((()=>{const{pathname:e,search:t}=window.location;window.history.replaceState("",document.title,`${e}${t}`)})(),!0));var s;a.then(e=>(e.onWatchedStatusChanged(()=>_(e=>!e)),t?e.watchOffer(i).then(()=>{v("AddToWatchList"),E("AddToWatchList",m,c.current)}):Promise.resolve())).catch(()=>n(!1)).finally(()=>n(!1))},[]),k("button",{type:"button","aria-label":p,className:"mgn2_14 mp0t_0a m9qz_yp mp7g_oh mse2_40 mqu1_40 mtsp_ib mli8_k4 mp4t_0 m3h2_0 mryx_0 m911_5r mefy_5r mnyp_5r mdwl_5r msbw_2 mldj_2 mtag_2 mm2b_2 mqvr_2 msa3_z4 mqen_m6 meqh_en m0qj_5r msts_n7 mg9e_0 mj7a_0 mjir_sv m2ha_2 m8qd_qh mjt1_n2 b111p mgmw_u5g mrmn_qo mrhf_u8 m31c_kb m0ux_fp b17e3 mjyo_lo mvrt_0 mh36_0 m7er_40 munh_4 _73da5_1eJO8",id:"watch-button",onClick(){a&&Promise.resolve().then(()=>n(!0)).then(()=>a).then(e=>o?e.stopWatchingOffer(i):e.watchOffer(i)).then(()=>{o?E("RemoveFromWatchList",m,c.current):(E("ClickAddToWatchList",m,c.current),E("AddToWatchList",m,c.current)),v(u),n(!1)}).catch(e=>{"Redirecting to login page"!==e.message&&n(!1)})},"data-analytics-interaction":!0,"data-analytics-interaction-label":u,"data-analytics-interaction-value":i,"data-analytics-interaction-custom-flow":"PurchasingProcess","data-analytics-category":"PurchasingProcess",ref:c},s&&k("span",{className:"mpof_z0 meqh_en mse2_40 munh_56 m3h2_56 mg9e_4 mvrt_4 mj7a_4 mh36_4 mjyo_6x m7er_40 kbcjb"}),!s&&k(j,{iconLink:l}))}let O,P;(e=>{e.SUCCESS="SUCCESS",e.DANGER="DANGER"})(O||(O={})),(e=>{e.V1="application/vnd.allegro.public.v1+json"})(P||(P={}));const C={headers:{Accept:P.V1,"Content-Type":P.V1},withCredentials:!0},M=r.a.createElement;function R({offerId:e,setMessageData:t,loginPageUrl:m}){return M("div",{className:"mp7g_f6 mjb5_cs mnjl_0 msts_9u mx7m_1 m911_co mefy_co mnyp_co mdwl_co mlkp_ag mp4t_4"},M("button",{type:"button",className:"mgn2_14 mp0t_0a m9qz_yp mp7g_oh mse2_40 mqu1_40 mtsp_ib mli8_k4 mp4t_0 m3h2_0 mryx_0 munh_0 m911_5r mefy_5r mnyp_5r mdwl_5r msbw_2 mldj_2 mtag_2 mm2b_2 msa3_z4 mqen_m6 meqh_en m0qj_5r msts_n7 mh36_16 mvrt_16 mg9e_0 mj7a_0 mjir_sv m2ha_2 m8qd_qh mjt1_n2 b111p mgmw_u5g mrmn_qo mrhf_u8 m31c_kb m0ux_fp b17e3 mqvr_g3",onClick(){((e,t)=>{const m="/auction/sms-notification/"+e;return window.opbox.edge.put(m,{},C).then(e=>{const{message:t}=e.data;return{message:t,alertType:O.SUCCESS}},e=>{if(401!==e.status)return{message:y("smsNotificationError"),alertType:O.DANGER};(e=>{const t=`${e}${window.location.href}`;window.location.assign(t)})(t)})})(e,m).then(e=>{t(e)})}},y("smsNotification")))}const T=r.a.createElement,{useState:W}=r.a;function D({offerId:e,setMessageData:t,loginPageUrl:m}){const[a,r]=W(!1),s=y(a?"collapseSmsNotificationMenu":"expandSmsNotificationMenu");return T("div",{className:"mpof_z0 mp4t_0 mryx_56"},T("button",{"aria-label":s,"aria-expanded":a,className:"mgn2_14 mp0t_0a m9qz_yp mp7g_oh mse2_40 mqu1_40 mtsp_ib mli8_k4 mp4t_0 m3h2_0 mryx_0 m911_5r mefy_5r mnyp_5r mqvr_2 msa3_z4 mqen_m6 meqh_en m0qj_5r mgmw_wo msts_n7 mg9e_0 mj7a_0 mjir_sv m2ha_2 m8qd_qh mjt1_n2 b111p mx7m_1 mdwl_co mlkp_ag msbw_0 mldj_0 mtag_0 mm2b_0 mvrt_0 mh36_0 munh_4",onClick(){r(!a)}},T(j,{className:a?"mjyo_6x mse2_40 meqh_en msa3_z4 m0s5_e6 mg9e_4 mvrt_4 mj7a_4 mh36_4 mhd5_0m ivrkk i14v0 m7er_40 _73da5_2FuLt i1tgn":"mjyo_6x mse2_40 meqh_en msa3_z4 m0s5_e6 mg9e_4 mvrt_4 mj7a_4 mh36_4 mhd5_0m ivrkk i14v0 m7er_40",iconLink:h.a,withoutFilter:!0})),a&&T(R,{setMessageData:t,offerId:e,loginPageUrl:m}))}const U=r.a.createElement;function A({visuallySimilarHash:e}){return U("a",{"aria-label":y("getSimilar"),role:"button",className:"mgn2_14 mp0t_0a m9qz_yp mp7g_oh mse2_40 mqu1_40 mtsp_ib mli8_k4 mp4t_0 m3h2_0 mryx_0 munh_0 m911_5r mefy_5r mnyp_5r mdwl_5r msbw_2 mldj_2 mtag_2 mm2b_2 mqvr_2 msa3_z4 mqen_m6 meqh_en m0qj_5r msts_n7 mg9e_0 mj7a_0 mjir_sv m2ha_2 m8qd_qh mjt1_n2 b111p mgmw_u5g mrmn_qo mrhf_u8 m31c_kb m0ux_fp b17e3 mvrt_0 mh36_0 _73da5_1ZyND",href:e,"data-analytics-interaction":!0,"data-analytics-interaction-label":"similarOffersClick","data-analytics-interaction-value":"show"},U(j,{className:"mjyo_6x mse2_40 meqh_en msa3_z4 m0s5_e6 mg9e_4 mvrt_4 mj7a_4 mh36_4 mhd5_0m ivrkk m7er_40",iconLink:h.b}),U("span",{className:"mpof_5r mpof_uk_m mvrt_4"},y("getSimilar")))}var I=m("ZKQE"),F="mjyo_6x mse2_40 meqh_en msa3_z4 m0s5_e6 mg9e_4 mvrt_4 mj7a_4 mh36_4 mhd5_0m ivrkk",H="m0t1_7i mpof_5r mpof_z0_s mse2_56 mg9e_0 mj7a_0 mh36_0 mvrt_16 mvrt_24_l";const B=r.a.createElement,{useEffect:$}=r.a;function V({type:e,onClose:t,children:m,isRwd:a}){$(()=>{setTimeout(()=>{t()},5e3)});const r=B("picture",null,B("img",{src:I.b,"aria-hidden":"true",alt:"","data-role":"error-message-icon",className:l(F,H,"m0s5_fg")})),s=B("picture",null,B("img",{src:I.a,"aria-hidden":"true",alt:"","data-role":"success-message-icon",className:l(F,"m0s5_32",H)})),n=e===O.SUCCESS,o=n?s:r,_=n?"mh36_4 mdwl_5r msts_t2":"mh36_4 mdwl_5r msts_1p";return B("div",{className:l(a?"mp7g_oz mp4t_0 m3h2_0 mryx_0 munh_0 mjb5_zk _73da5_3vL85 _73da5_2pExa":"mp7g_oz mp4t_0 m3h2_0 mryx_0 munh_0 mjb5_zk _73da5_3vL85 _73da5_1mOw7")},B("div",{className:l("mjyo_6x msbw_2 mldj_2 mtag_2 mm2b_2 mx7m_1 mdwl_co mlkp_n6 mp7g_oh mjb5_zk mg1a91",_)},B("button",{type:"button","aria-label":y("close"),className:l("mgn2_14 mp0t_0a m9qz_yp mp7g_oh mse2_40 mqu1_40 mtsp_ib mli8_k4 mp4t_0 m3h2_0 mryx_0 munh_0 m911_5r mefy_5r mnyp_5r mdwl_5r msbw_2 mldj_2 mtag_2 mm2b_2 mqvr_2 msa3_z4 mqen_m6 meqh_en m0qj_5r mgmw_wo msts_n7 mh36_16 mvrt_16 mg9e_0 mj7a_0 mjir_sv m2ha_2 m8qd_qh mjt1_n2 b111p","m0t1_f9 mg9e_0 mvrt_0 mj7a_0 mh36_0"),onClick:t},B("img",{src:h.f,alt:"",className:F})),B("div",{className:l("mlkp_ag","mg9e_16 mg9e_24_l mvrt_16 mvrt_24_l mj7a_16 mj7a_24_l msts_n6 mx7m_1 mlkp_n6 m911_co mnyp_co mefy_co mldj_2 mm2b_2 mgxqsx","msts_9u")},o,B("div",{className:"mg1vjt"},m))))}const J=r.a.createElement;function Q({messageData:e,hideSmsNotificationMessage:t,isRwd:m}){return e&&e.message?J(V,{type:e.alertType,onClose:t,isRwd:m},J("p",{"data-role":"notification-message-text",className:"mgn2_14 mp0t_0a mqu1_21 mgmw_wo mli8_k4 mp4t_0 m3h2_0 mryx_0 munh_0"},e.message)):null}const Z=r.a.createElement,{useState:G}=r.a;function K({centerContent:e,showShareButton:t,showVisuallySimilar:m,smsNotificationUrl:a,watchButtonProps:s,watchOfferService:n,shareButtonHash:o,visuallySimilarHash:_,offerId:c,loginPageUrl:h,isRwd:u}){if(!t&&!m&&!a&&null===s)return null;const[p,f]=G(void 0),d=e?"m7f5_6m":"m7f5_0a";return Z(r.a.Fragment,null,Z("div",{className:l("mpof_ki",d),"data-role":"main-container"},m&&Z(A,{visuallySimilarHash:_}),t&&Z(x,{shareButtonHash:o}),s&&Z(L,i({},s,{watchOfferService:n})),a&&Z(D,{offerId:c,setMessageData:f,loginPageUrl:h})),Z(Q,{messageData:p,hideSmsNotificationMessage(){f(void 0)},isRwd:u}))}const Y=r.a.createElement;window.opbox.component.register({prototypeName:"allegro.showoffer.actions",clientImplementationVersion:_.a},class{constructor(e){const{baseNode:t,services:m}=e;this.container=t.querySelector('[data-role="app-container"]'),this.props=e.props,this.watchOfferService=m.get("@allegro/opbox-watch-offer-service")}onMount(){n.a.hydrate(Y(K,Object.assign({},this.props,{watchOfferService:this.watchOfferService})),this.container)}onUnmount(){n.a.unmountComponentAtNode(this.container)}})},ZKQE(e){e.exports=JSON.parse('{"a":"https://assets.allegrostatic.com/metrum/icon/round-tick-f943345bd3.svg","b":"https://assets.allegrostatic.com/metrum/icon/stop-sign-92284fffce.svg"}')},cDcd(e,t){e.exports=window.React_16_8_1},faye(e,t){e.exports=window.ReactDOM_16_8_1},rRL6(e,t){e.exports="25f"}}));
//# sourceMappingURL=index.es6-pl-PL_ed3ed1e7.js.map