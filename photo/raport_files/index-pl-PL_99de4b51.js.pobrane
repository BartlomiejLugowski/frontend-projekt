!function(e,t){for(var r in t)e[r]=t[r]}(window,function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="https://assets.allegrostatic.com/sc-14307/",r(r.s=0)}({"/wBL":function(e){e.exports=JSON.parse('{"a":"https://assets.allegrostatic.com/metrum/icon/x-1a6f095eb2.svg"}')},0:function(e,t,r){e.exports=r("WdQY")},WdQY:function(e,t,r){"use strict";r.r(t);var n=r("rRL6"),i=r.n(n);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l={"pl-PL":{"Item added to cart.":[["",["Przedmiot trafił do koszyka."]]],"Failed to add the item to your cart. Please try again.":[["",["Nie udało się dodać przedmiotu do koszyka. Spróbuj jeszcze raz."]]],close:[["",["zamknij"]]]}},m=/({{[^}]+}}|{%[^%}]+%})/g,d=/({{[^}]+}})/g,f=/({%[^%}]+%})/g,p=/({{\s*|\s*}}|{%\s*|\s*%})/g;function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("string"==typeof e)throw Error("Translation has to be an array");return e.find((function(e){return e[0]===t}))[1]}var g=function(e,t,r){var n=l["pl-PL"][e];if(!n)throw Error('Missing translation for lang "pl-PL" and key "'.concat(e,'"'));return t?function(e,t,r){var n,i=h(e,t.context);return function(e,t,r){if(r){var n=0;return e.split(m).map((function(r){if(r.match(f)){var i=t.formatters[n];if(i)return n+=1,i(r.replace(p,""));throw Error('Missing translation formatter for "'.concat(e,'"'))}return r.match(d)?t[r.replace(p,"")]:r}))}var i=e.match(m),o=0;return i?i.reduce((function(r,n){var i=n.replace(p,"");if(n.match(f)){var a=t.formatters[o];if(a)return o+=1,r.replace(n,a(i));throw Error('Missing translation formatter for "'.concat(e,'"'))}return n.match(d)?r.replace(n,t[i]):r}),e):e}(i=parseInt(t.count,10)>=0?function(e,t){var r,n=1==(r=t)?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2;return"boolean"!=typeof n?e[n]:e[n?1:0]}(i,t.count):(n=i,1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),1!==o.length);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(n)||function(e,t){if(e){if("string"==typeof e)return c(e,1);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,1):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],t,r)}(n,t,r):h(n)[0]};function y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _,v,b={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;"},w=/<|>|&|"|'/g,j=(RegExp(Array.from("javascript:",(function(e){return"".concat(e).concat("[\\n\\r\\t]*")})).join(""),"ig"),function(e){return b[e]}),C=function(){function e(t,r){o(this,e),this.$=t[0];for(var n=0;n<r.length;n++){var i=r[n];if(Array.isArray(i))for(var a=0;a<i.length;a++)this.$esc(i[a]);else this.$esc(i);this.$+=t[n+1]}}return s(e,[{key:"$esc",value:function(t){this.$+=t instanceof e?t.$:(t+"").replace(w,j)}},{key:"toString",value:function(){return this.$}}]),e}(),O=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new C(e,r)},I=r("/wBL"),x=r("ZKQE"),E="mjyo_6x msbw_2 mldj_2 mtag_2 mm2b_2 mx7m_1 mlkp_n6 mp7g_oh mjb5_zk mg1a91 _d9395_5vVUj mh36_4 mdwl_5r msts_t2",k="mjyo_6x msbw_2 mldj_2 mtag_2 mm2b_2 mx7m_1 mlkp_n6 mp7g_oh mjb5_zk mg1a91 _d9395_5vVUj mh36_4 mdwl_5r msts_1p",S="mp7g_ca mqm6_0 mpof_ki myre_6m m389_6m mz3i_8 mjb5_zk mse2_0 m7f5_0a_s mg19xc mgr08k",q="mgn2_14 mp0t_0a m9qz_yp mp7g_oh mse2_40 mqu1_40 mtsp_ib mli8_k4 mp4t_0 m3h2_0 mryx_0 munh_0 m911_5r mefy_5r mnyp_5r mdwl_5r msbw_2 mldj_2 mtag_2 mm2b_2 mqvr_2 msa3_z4 mqen_m6 meqh_en m0qj_5r msts_n7 mg9e_0 mj7a_0 mjir_sv m2ha_2 m8qd_qh mjt1_n2 b1xj6 mgmw_u5g mrmn_qo mrhf_u8 m31c_kb m0ux_fp b10hn m0t1_f9 mvrt_0 mh36_0",L="mg9e_16 mg9e_24_l mvrt_16 mvrt_24_l mj7a_16 mj7a_24_l msts_n6 mx7m_1 mlkp_n6 m911_co mnyp_co mefy_co mldj_2 mm2b_2 mgxqsx",P="mjyo_lo mpof_5r mpof_z0_s m0t1_7i mg9e_0 mj7a_0 mh36_0 mvrt_16 mvrt_24_l",T="mjyo_6x meqh_en msa3_z4 m0s5_e6 mhd5_0m ivrkk mse2_56 mg9e_0 mvrt_0 mj7a_0 mh36_0",A="mjyo_6x mse2_40 meqh_en msa3_z4 m0s5_e6 mg9e_4 mvrt_4 mj7a_4 mh36_4 mhd5_0m ivrkk",M="mgn2_14 mp0t_0a mqu1_21 mgmw_wo mli8_k4 mp4t_0 m3h2_0 mryx_0 munh_0",N=function(){function e(t){var r=this;o(this,e),u(this,"messageNode",null),u(this,"closeButtonNode",null),u(this,"isCurrentMessageOfTypeDanger",!1),u(this,"messageVisibilityTimeout",0),u(this,"render",(function(e,t){var n=r.targetWindow.document;if(n.body.querySelector('[data-role="message"]')){if(r.isCurrentMessageOfTypeDanger===t)return;r.removeMessage()}var i=n.createElement("div");i.innerHTML=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t?k:E,n=t?x.b:x.a;return O(_||(_=y(['<div class="','"><div class="','" data-role="','" data-analytics-enabled data-item data-analytics-category="allegro.plugin.','" data-analytics-view-label="message" data-analytics-view-value="','"><button type="button" class="','" data-role="','" aria-label="','" data-analytics-interaction data-analytics-interaction-label="messageCloseButton"><img class="','" src="','" alt="" width="40" height="40"></button><div class="','"><div class="','"><img class="','" data-role="','" src="','" width="32" height="32" aria-hidden="true" alt=""></div><div class="','"><p class="','" data-role="','">',"</p></div></div></div></div>"])),S,r,"message","cart",t?"danger":"success",q,"message-close-button",g("close"),A,I.a,L,P,T,"message-information-icon",n,"mg1vjt",M,"message-paragraph",e)}(e,t).toString(),r.messageNode=i.firstElementChild,r.closeButtonNode=r.messageNode.querySelector('button[data-role="message-close-button"]'),r.isCurrentMessageOfTypeDanger=t,r.renderMessageWithTimeout()})),u(this,"onClick",(function(){r.removeMessage()})),this.targetWindow=t}return s(e,[{key:"renderSuccess",value:function(){this.render(g("Item added to cart."),!1)}},{key:"renderDanger",value:function(){this.render(g("Failed to add the item to your cart. Please try again."),!0)}},{key:"renderMessage",value:function(){if(this.messageNode){this.targetWindow.clearTimeout(this.messageVisibilityTimeout);var e=this.targetWindow,t=e.navigator.userAgent,r=e.opbox.boxViewsMarker.markBoxAsRendered,n=e.document,i=this.messageNode.querySelector('[data-role="message"]'),o=n.body.querySelector('[data-role="header-wrapper"]'),a=n.querySelector('button[id="one-click-buy-button"]'),s=n.body.querySelector('[data-role="sticky-menu"]'),u=n.URL.includes("/oferta/"),c=t.toLowerCase().includes("mobile"),l=!!s&&1===s.getClientRects().length,m=!a||-1*a.getClientRects()[0].top>=a.getClientRects()[0].height;c&&(i.style.marginBottom=u&&m?"108px":"52px"),u&&l&&!c&&(i.style.marginTop="84px"),o?o.appendChild(this.messageNode):n.body.insertBefore(this.messageNode,n.body.firstChild),r(this.messageNode),this.attachEventListeners()}}},{key:"removeMessage",value:function(){if(this.messageNode){var e=this.messageNode.parentElement;this.detachEventListeners(),this.targetWindow.clearTimeout(this.messageVisibilityTimeout),e.removeChild(this.messageNode)}}},{key:"renderMessageWithTimeout",value:function(){var e=this;this.renderMessage(),this.messageVisibilityTimeout=this.targetWindow.setTimeout((function(){return e.removeMessage()}),3e3)}},{key:"attachEventListeners",value:function(){this.closeButtonNode&&this.closeButtonNode.addEventListener("click",this.onClick)}},{key:"detachEventListeners",value:function(){this.closeButtonNode&&this.closeButtonNode.removeEventListener("click",this.onClick)}}]),e}(),z=Error("Failed to render precart layer"),R={showPrecartLayer:!1},Q=function(){function e(t){var r=this,n=t.window,i=t.cartClient,a=t.props;o(this,e),u(this,"changeItems",(function(e,t,n){return r.cartClient.changeQuantity(e).then((function(){var i=e.reduce((function(e,t){return e+t.delta}),0);if(r.triggerQuantityChangeListeners(i),"hidden"===r.props.experimentVariant)r.message.renderSuccess();else if(t.showPrecartLayer)return r.window.opbox.page.render.fragment({pathname:r.props.precartLayerUrl,additionalQueryParameters:n}).catch((function(){r.window.opbox.reportError(z)}));return Promise.resolve()})).catch((function(e){throw"hidden"===r.props.experimentVariant&&r.message.renderDanger(),r.window.opbox.reportError(e),e}))})),u(this,"add",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R,n=e.filter((function(e){return e.delta>0}));return r.changeItems(e,t,{precartOfferId:n.map((function(e){return e.itemId})),precartSellerId:n[0]&&n[0].sellerId,itemQuantity:n.map((function(e){var t=e.itemId,r=e.delta;return"".concat(t,":").concat(r)}))})})),u(this,"addOffer",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R;return r.addOffers([e],t)})),u(this,"addOffers",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R;return r.changeItems(e.map((function(e){var t=e.itemId,r=e.quantity,n=e.sellerId,i=e.category;return{itemId:t,delta:r,sellerId:n,navCategoryId:i&&i.id,navTree:i&&i.tree}})),t,{precartOfferId:e.map((function(e){return e.itemId})),precartSellerId:e[0].sellerId,itemQuantity:e.map((function(e){var t=e.itemId,r=e.quantity;return"".concat(t,":").concat(r)}))})})),u(this,"removeOffer",(function(e){var t=e.itemId,n=e.quantity,i=e.sellerId,o=e.allowDelete;return r.changeItems([Object.assign({itemId:t,delta:-1*n,sellerId:i},!0===o&&{allowDelete:o})],R,void 0)})),u(this,"addBundle",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R;return r.changeItems([{itemId:e.bundleMainItemId,delta:e.quantity,sellerId:e.sellerId,rebateId:e.rebateId}],t,{precartOfferId:e.itemsIds,precartSellerId:e.sellerId,rebateId:e.rebateId,quantity:e.quantity.toString(10)})})),u(this,"triggerQuantityChangeListeners",(function(e){r.quantityChangeListeners.forEach((function(t){return t(e)}))})),u(this,"registerQuantityChangeListener",(function(e){r.quantityChangeListeners.push(e)})),u(this,"unregisterQuantityChangeListener",(function(e){r.quantityChangeListeners=r.quantityChangeListeners.filter((function(t){return t!==e}))})),this.window=n,this.cartClient=i,this.quantityChangeListeners=[],this.props=a,this.message=new N(n)}return s(e,[{key:"getPublicApi",value:function(){return{add:this.add,addBundle:this.addBundle,addOffer:this.addOffer,addOffers:this.addOffers,removeOffer:this.removeOffer,registerQuantityChangeListener:this.registerQuantityChangeListener,unregisterQuantityChangeListener:this.unregisterQuantityChangeListener}}}]),e}();function B(e,t){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function F(e,t,r){return(F=V()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&B(i,r.prototype),i}).apply(null,arguments)}function Y(e){var t="function"==typeof Map?new Map:void 0;return(Y=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return F(e,arguments,D(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),B(n,e)})(e)}!function(e){e.CART_CAPACITY_EXCEEDED="OFFER_CART_CAPACITY_EXCEEDED"}(v||(v={}));var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(i,e);var t,r,n=(t=i,r=V(),function(){var e,n=D(t);if(r){var i=D(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return $(this,e)});function i(e,t){var r;return o(this,i),(r=n.call(this,"Failed to add to cart")).response=t,r.status=e,r}return s(i)}(Y(Error)),X={changeQuantity:function(e){return window.opbox.edge.post("/carts/changeQuantityCommand",{items:e},{headers:{Accept:"application/vnd.allegro.public.v5+json","Content-Type":"application/vnd.allegro.public.v5+json"},withCredentials:!0}).catch((function(e){var t=e.status,r=e.data;throw 422===t&&r&&r.errors&&r.errors.find((function(e){return e.code===v.CART_CAPACITY_EXCEEDED}))&&window.location.assign("/koszyk?error=CART_CAPACITY_EXCEEDED"),new U(t,r)}))}},J=function(e){var t=e.pluginName,r=e.clientImplementationVersion;try{return JSON.parse(window.document.querySelector('script[data-serialize-plugin-name="'.concat(t,'"][data-civ="').concat(r,'"]')).textContent)}catch(e){return window.opbox.reportError(Error('Missing serialized props of plugin "'.concat(t,'", with civ "').concat(r,'"'))),{}}}({pluginName:"cart",clientImplementationVersion:i.a}).cartConfiguration;J&&window.opbox.plugin.register({name:"cart"},new Q({window:window,cartClient:X,props:J}).getPublicApi())},ZKQE:function(e){e.exports=JSON.parse('{"a":"https://assets.allegrostatic.com/metrum/icon/round-tick-f943345bd3.svg","b":"https://assets.allegrostatic.com/metrum/icon/stop-sign-92284fffce.svg"}')},rRL6:function(e,t){e.exports="8f7"}}));
//# sourceMappingURL=index-pl-PL_99de4b51.js.map