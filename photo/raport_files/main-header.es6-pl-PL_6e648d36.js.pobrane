((e,t)=>{for(var r in t)e[r]=t[r]})(window,(e=>{function t(t){for(var r,a,s=t[0],o=t[1],n=0,l=[];n<s.length;n++)a=s[n],{}.hasOwnProperty.call(i,a)&&i[a]&&l.push(i[a][0]),i[a]=0;for(r in o)({}).hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(d&&d(t);l.length;)l.shift()()}var r={},i={0:0};function a(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.e=e=>{var t=[],r=i[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((t,a)=>{r=i[e]=[t,a]});t.push(r[2]=s);var o,n=document.createElement("script");n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.src=(e=>a.p+""+({1:"notifications",2:"sticky",3:"strip",4:"user-name"}[e]||e)+".es6-pl-PL_6e648d36.js")(e),0!==n.src.indexOf(window.location.origin+"/")&&(n.crossOrigin="anonymous");var d=Error();o=t=>{n.onerror=n.onload=null,clearTimeout(l);var r=i[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",d.name="ChunkLoadError",d.type=a,d.request=s,r[1](d)}i[e]=void 0}};var l=setTimeout(()=>{o({type:"timeout",target:n})},12e4);n.onerror=n.onload=o,document.head.appendChild(n)}return Promise.all(t)},a.m=e,a.c=r,a.d=(e,t,r)=>{a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=(e,t)=>{if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(r,i,(t=>e[t]).bind(null,i));return r},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,"a",t),t},a.o=(e,t)=>({}.hasOwnProperty.call(e,t)),a.p="https://assets.allegrostatic.com/sc-9181/",a.oe=e=>{throw console.error(e),e};var s=window.webpackJsonp_13850=window.webpackJsonp_13850||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var n=0;n<s.length;n++)t(s[n]);var d=o;return a(a.s=0)})({0(e,t,r){e.exports=r("6kBQ")},"6kBQ"(e,t,r){r.r(t);var i=r("rRL6"),a=r.n(i),s=r("dtw6"),o=r("kiQV"),n=r("rePB");class d{constructor(e,t=window){Object(n.a)(this,"resetDropHeight",()=>{this.dropElement.style.height=""}),Object(n.a)(this,"setDropHeight",e=>{this.dropElement.style.height=e}),Object(n.a)(this,"setDropMaxHeight",e=>{this.dropElement.style.maxHeight=e}),Object(n.a)(this,"isDropScrollable",()=>this.dropElement.hasAttribute(s.e)),Object(n.a)(this,"toggleClickListener",e=>{e.preventDefault(),e.currentTarget.parentElement&&this.toggle()}),Object(n.a)(this,"handleClickOutsideDropdown",({target:e}={})=>{((e,t)=>e.contains(t))(this.wrapper,e)||"true"!==this.toggleElement.getAttribute("aria-expanded")||this.hide()}),this.targetWindow=t,this.wrapper=e,this.toggleElement=e.querySelector(`[data-role="${s.g}"]`),this.dropElement=e.querySelector(`[data-role="${s.d}"]`),this.icon=e.querySelector(`[data-role="${s.f}"]`),this.id=e.getAttribute("data-dropdown-id")||"",this.popoverPackageMessage=e.querySelector('[data-role="package-message"]')}toggle(){"true"===this.toggleElement.getAttribute("aria-expanded")?this.hide():this.show()}sendEvent(e){const t={contextNode:this.wrapper,label:e,value:this.id};this.targetWindow.opbox.analytics.sendBoxInteractionEvent(t),"show_dropdown"===e?this.targetWindow.opbox.boxViewsMarker.markBoxAsVisible(this.wrapper):this.targetWindow.opbox.boxViewsMarker.markBoxAsHidden(this.wrapper)}show(){this.wrapper.classList.add("e17hd"),this.icon.classList.remove("i14v0"),this.icon.classList.add("i1tgn"),this.toggleElement.setAttribute("aria-expanded","true"),this.dropElement&&this.handleDropHeight(),this.sendEvent("show_dropdown")}hide(){this.wrapper.classList.remove("e17hd"),this.icon.classList.remove("i1tgn"),this.icon.classList.add("i14v0"),this.toggleElement.setAttribute("aria-expanded","false"),this.sendEvent("hide_dropdown")}handleDropHeight(){const e=this.dropElement.getBoundingClientRect(),t=Math.floor(e.top),r=e.height+"px",i=`calc(100vh - ${t+8}px)`;this.isDropScrollable()?this.setDropHeight(i):(this.resetDropHeight(),this.setDropHeight(r),this.setDropMaxHeight(i))}attachListener(){this.toggleElement.addEventListener("click",this.toggleClickListener),this.targetWindow.addEventListener("click",this.handleClickOutsideDropdown),this.popoverPackageMessage&&this.popoverPackageMessage.addEventListener("click",this.toggleClickListener)}}class l{constructor(e){this.dropdowns=(e=>Array.from(e.querySelectorAll(`[data-role="${s.c}"]`),e=>new d(e)))(e)}initialize(){this.dropdowns.forEach(e=>e.attachListener())}}window.opbox.component.register({prototypeName:"allegro.metrumHeader",clientImplementationVersion:a.a},class{constructor({baseNode:e,services:t,props:r}={}){this.props=r,this.baseNode=e,this.services=t,this.stickyEnabled=e.querySelector(`[${s.n}]`),this.cacheEnabled=e.querySelector(`[${s.b}]`),this.esiEnabled=e.querySelector(`[${s.h}]`),this.stripEnabled=e.querySelector(`[data-role="${s.l}"]`),this.archiveVariantEnabled=e.querySelector(`[${s.a}]`),this.userAuthenticated=e.querySelector(`[${s.p}]`)}onMount(){new l(this.baseNode).initialize(),this.cacheEnabled&&r.e(4).then(r.bind(null,"oWDG")).then(({UserName:e})=>{new e(this.baseNode,this.services).setFromUserAttributes()}),!this.cacheEnabled&&!this.archiveVariantEnabled&&this.userAuthenticated&&this.props.subscribedNotificationBadges.length&&r.e(1).then(r.bind(null,"t40z")).then(({Notifications:e})=>{new e(this.baseNode,this.services,this.props).initialize()}),this.stickyEnabled&&r.e(2).then(r.bind(null,"SnEL")).then(({Sticky:e})=>{new e(this.baseNode).initialize()}),this.stripEnabled&&r.e(3).then(r.bind(null,"4wS8")).then(({Strip:e})=>{new e(this.baseNode).initialize()}),window.opbox.performance.markTimeToInteractive(o.a)}})},dtw6(e,t,r){r.d(t,"n",()=>i),r.d(t,"b",()=>a),r.d(t,"h",()=>s),r.d(t,"p",()=>o),r.d(t,"c",()=>n),r.d(t,"g",()=>d),r.d(t,"f",()=>l),r.d(t,"d",()=>h),r.d(t,"e",()=>c),r.d(t,"i",()=>p),r.d(t,"m",()=>u),r.d(t,"q",()=>g),r.d(t,"l",()=>b),r.d(t,"j",()=>w),r.d(t,"k",()=>m),r.d(t,"o",()=>v),r.d(t,"a",()=>f);const i="data-header-sticky",a="data-header-cached",s="data-header-esi",o="data-header-user-authenticated",n="header-dropdown",d="header-dropdown-toggle",l="header-dropdown-icon",h="dropdown-drop",c="dropdown-drop-scrollable",p="header-primary-bar",u="header-secondary-bar",g="header-wrapper",b="header-scrollbar-container",w="header-scrollbar-arrow-left",m="header-scrollbar-arrow-right",v="header-username",f="data-header-archive"},kiQV(e){e.exports=JSON.parse('{"a":"@allegro/opbox-metrum-header"}')},rRL6(e,t){e.exports="765"},rePB(e,t,r){function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",()=>i)}}));
//# sourceMappingURL=main-header.es6-pl-PL_6e648d36.js.map