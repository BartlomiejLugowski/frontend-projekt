((e,t)=>{for(var n in t)e[n]=t[n]})(window,(e=>{var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=(e,t,o)=>{n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=(e,t)=>{if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,(t=>e[t]).bind(null,i));return o},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,"a",t),t},n.o=(e,t)=>({}.hasOwnProperty.call(e,t)),n.p="https://assets.allegrostatic.com/sc-16172/",n(n.s=0)})({0(e,t,n){e.exports=n("O14P")},NbQ6(e,t,n){var o,i=n("cDcd"),r=(o=i)&&"object"==typeof o&&"default"in o?o.default:o,s=n("rO9z");function a(e){var t,n,o="";if(e)if("object"==typeof e)for(t in e)e[t]&&(n=a(e.push?e[t]:t))&&(o&&(o+=" "),o+=n);else"boolean"!=typeof e&&(o&&(o+=" "),o+=e);return o}function l(){for(var e,t=0,n="";t<arguments.length;)(e=a(arguments[t++]))&&(n&&(n+=" "),n+=e);return n}var c=((e,t)=>((e=>{var t,n;t=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:t=!("undefined"==typeof window||!window.document||!window.document.createElement),canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen},e.exports?e.exports=n:window.ExecutionEnvironment=n})(t={exports:{}}),t.exports))();function p(){return r.createElement("div",{className:s.parrotPlaceholder})}var h=function(e){function t(t){e.call(this,t),this.imgRef=null,this.state={isLoadTriggered:this.props.isActive,isLoadCompleted:!1},this.wasLoadReported=!1,this.markLoadAsComplete=this.markLoadAsComplete.bind(this),this.handleRef=this.handleRef.bind(this)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.componentDidMount=function(){this.props.isActive?this.triggerLoad():this.attachIntersectionObserver()},t.prototype.componentWillUnmount=function(){this.intersectionObserver&&this.intersectionObserver.disconnect()},t.prototype.getTransformStyle=function(){if(!this.state.isLoadCompleted||!this.props.isActive)return{};var e=this.props,t=e.scale,n="translate3d("+e.x+"px, "+e.y+"px, 0) scale3d("+t+", "+t+", "+t+")";return{transform:n,WebkitTransform:n}},t.prototype.attachIntersectionObserver=function(){var e=this;if(this.intersectionObserver)this.imgRef&&this.intersectionObserver.observe(this.imgRef);else{if("undefined"==typeof window||!window.IntersectionObserver)return void this.triggerLoad();this.intersectionObserver=new window.IntersectionObserver(t=>{t.filter(e=>e.isIntersecting||void 0===e.isIntersecting).forEach(()=>e.triggerLoad())},{})}},t.prototype.triggerLoad=function(){this.setState({isLoadTriggered:!0})},t.prototype.reportLoad=function(){if(!this.wasLoadReported){this.wasLoadReported=!0;var e=this.props.onLoad;"function"==typeof e&&e(this.imgRef)}},t.prototype.handleRef=function(e){this.imgRef=e,this.imgRef&&(this.props.isActive?this.imgRef.complete&&this.markLoadAsComplete():this.attachIntersectionObserver())},t.prototype.markLoadAsComplete=function(){this.setState({isLoadCompleted:!0}),this.reportLoad()},t.prototype.render=function(){var e=this.props,t=e.alt,n=e.placeholderUrl,o=e.url,i=e.fetchpriority,a=this.state,c=a.isLoadTriggered,p=a.isLoadCompleted,h=!p&&n?s.parrotCustomPlaceholder:"",u=l(s.parrotImageContainer,e.isActive&&s.parrotActiveImage,p?"":s.parrotPlaceholder,h,e.animated&&s.parrotImageContainerTransition),d=Object.assign({},h&&{backgroundImage:"url("+n+")"},this.getTransformStyle());return r.createElement("div",{className:u,style:d},r.createElement("img",{ref:this.handleRef,className:s.parrotImage,src:c?o:null,alt:t,role:"presentation",onLoad:this.markLoadAsComplete,fetchpriority:i}))},t}(r.PureComponent),u={from:"z",showPreviousPhoto:"Pokaż poprzednie zdjęcie",showNextPhoto:"Pokaż następne zdjęcie"},d=i.createContext(u);function m(){return i.useContext(d)}function f(e){var t=e.side,n=e.onClick,o=e.small,i=e.active,a=m(),c=l("left"===t?s.parrotNavButtonLeft:s.parrotNavButtonRight,o?s.parrotNavButtonSmall:s.parrotNavButton,i?s.parrotNavButtonActive:null);return r.createElement("button",{"aria-label":"left"===t?a.showPreviousPhoto:a.showNextPhoto,className:c,onClick:n})}function v(e){var t=e.images,n=e.selectedIndex,o=e.onLoad;void 0===o&&(o=()=>{});var i=e.onNext,a=e.onPrevious,l=e.scale,c=e.x,p=e.y,u=e.animateImages,d=e.verticalThumbnails,m=n>0,v=n<t.length-1,g=d?{}:{transform:"translateX(-"+100*n+"%)"};return 0===t.length&&setTimeout(()=>o(0)),r.createElement("div",{className:s.parrotScrollingContainer},r.createElement("div",{className:s.parrotMarginPositioning,style:g},r.createElement("div",{className:s.parrotScrollingContent},(d?[t[n]]:t).map((e,t)=>r.createElement(h,{url:e.url,placeholderUrl:e.placeholder,alt:e.alt,isActive:d||t===n,key:t,onLoad:e=>o(t,e),scale:l,x:c,y:p,animated:u,fetchpriority:e.fetchpriority})))),r.createElement(f,{side:"left",onClick:a,active:m}),r.createElement(f,{side:"right",onClick:i,active:v}))}function g(e){return r.createElement("script",{nonce:e.nonce}," ")}function y(e){return r.createElement("button",{className:s.parrotCloseButton,onClick:e.onClick})}function S(e){var t=e.selected;return r.createElement("div",{className:s.parrotThumbnail,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,role:"button",tabIndex:"0"},r.createElement("img",{className:s.parrotThumbnailImage,src:e.url,alt:e.alt,fetchpriority:e.fetchpriority}),t&&r.createElement("div",{className:s.parrotThumbnailIndicator}))}function b(e,t,n){var o=-e%t;return n>0&&o&&(o+=t),t*n+o}function T(e,t,n,o){return b(e,n,o*Math.floor(t/n))}function w(e,t,n){return e>=n-t}function C(e,t){t.forEach(t=>{e[t]=e[t].bind(e)})}var E=function(e){void 0===e&&(e=!1),C(this,["step","start","prepare"]),this.verticalScroll=e,this.active=!1};E.prototype.getJumpAmount=function(){if(this.amount>0){var e=Math.ceil(.1*this.amount);return this.sum===this.originalAmount?0:e}var t=Math.floor(.1*this.amount);return this.sum+t<this.originalAmount?0:t},E.prototype.step=function(){var e=this.getJumpAmount(),t=this.amount-e;this.sum+=e,this.verticalScroll?this.element.scrollTop+=e:this.element.scrollLeft+=e,t&&e?(this.amount=t,this.active=window.requestAnimationFrame(this.step)):this.active=!1},E.prototype.prepare=function(e,t){return this.element=e,this.amount=t,this.originalAmount=t,this.sum=0,this},E.prototype.start=function(){this.element&&this.amount&&(this.active=window.requestAnimationFrame(this.step))};var I=function(e){var t=e.onUpdate,n=e.onScrollEnd;this.previousScrollPosition=0,this.direction=!1,this.onUpdate=t,this.onScrollEnd=n,this.scrollEndTimeout=void 0,this.update=this.update.bind(this)};I.prototype.updateScrollEndListener=function(){window.clearTimeout(this.scrollEndTimeout),this.scrollEndTimeout=window.setTimeout(this.onScrollEnd,75)},I.prototype.update=function(e){"function"==typeof this.onScrollEnd&&this.updateScrollEndListener();var t=e.target.scrollLeft;this.direction=t-this.previousScrollPosition>0,this.previousScrollPosition=t,"function"==typeof this.onUpdate&&this.onUpdate()};var _=function(e){function t(t){e.call(this,t),this.state={prevActive:!1,nextActive:!1,selectedIndex:t.selectedIndex,followIndex:t.followIndex,displayChangedTimestamp:t.displayChangedTimestamp},C(this,["updateButtonsActiveState","scrollToPreviousSection","scrollToNextSection","scrollToIndex","scrollToNearestIndex"]),this.forceScrollPositionUpdate=!1,this.scrollAnimationHandler=new E(t.verticalThumbnails),this.scrollListener=new I({onUpdate:this.updateButtonsActiveState,onScrollEnd:t.stickToSteps&&this.scrollToNearestIndex})}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.componentDidMount=function(){this.updateButtonsActiveState()},t.prototype.componentWillReceiveProps=function(e){var t=e.selectedIndex,n=e.followIndex,o=e.displayChangedTimestamp;this.updateButtonsActiveState(),this.state.displayChangedTimestamp!==o&&(this.setState({displayChangedTimestamp:o}),this.forceScrollPositionUpdate=!0),this.setState({followIndex:n,selectedIndex:t}),this.isIndexFullyVisible(t)||this.state.selectedIndex===t||(this.setState({selectedIndex:t}),this.state.followIndex&&this.scrollToIndex(e.selectedIndex))},t.prototype.componentDidUpdate=function(){this.forceScrollPositionUpdate&&(this.forceScrollPositionUpdate=!1,this.resetScrollToCurrentIndex())},t.prototype.getContainerScroll=function(){return void 0===this.containerElement?0:this.props.verticalThumbnails?this.containerElement.scrollTop:this.containerElement.scrollLeft},t.prototype.getContainerOffset=function(){return void 0===this.containerElement?0:this.props.verticalThumbnails?this.containerElement.offsetHeight:this.containerElement.offsetWidth},t.prototype.getContentOffset=function(){return void 0===this.contentElement?0:this.props.verticalThumbnails?this.contentElement.offsetHeight:this.contentElement.offsetWidth},t.prototype.setContainerScroll=function(e){void 0!==this.containerElement&&(this.props.verticalThumbnails?this.containerElement.scrollTop=e:this.containerElement.scrollLeft=e)},t.prototype.getStepSize=function(){return this.props.stepSize||this.getContainerOffset()},t.prototype.resetScrollToCurrentIndex=function(){var e=this.getStepSize();this.setContainerScroll(e*this.state.selectedIndex)},t.prototype.scrollToIndex=function(e){var t=this.getStepSize(),n=this.getContainerScroll(),o=n/t,i=b(n,t,e-(e<o?Math.floor(o):Math.ceil(o)));this.scrollAnimationHandler.prepare(this.containerElement,i).start()},t.prototype.scrollToNearestIndex=function(){var e=this.getStepSize(),t=this.getContainerScroll()%e;t&&this.scrollAnimationHandler.prepare(this.containerElement,this.scrollListener.direction?e-t:-t).start()},t.prototype.isIndexFullyVisible=function(e){var t=this.getContainerScroll(),n=t+this.getContainerOffset(),o=this.getStepSize();return t<=e*o&&n>=(e+1)*o},t.prototype.updateButtonsActiveState=function(){var e,t=this.props,n=t.stepSize,o=t.lastIndex,i=t.selectionChanged,r=this.getContainerScroll(),s={prevActive:(e=r,!(0===e)),nextActive:n?!w(r,this.getContainerOffset(),this.getContentOffset()):!this.isIndexFullyVisible(o)};this.setState(s),i&&i(this.scrollListener.direction?Math.ceil(r/this.getStepSize()):Math.floor(r/this.getStepSize()))},t.prototype.scrollToPreviousSection=function(e){e.preventDefault(),e.stopPropagation();var t=this.getStepSize(),n=T(this.getContainerScroll(),this.getContainerOffset(),t,-1);this.scrollAnimationHandler.prepare(this.containerElement,n).start()},t.prototype.scrollToNextSection=function(e){e.preventDefault(),e.stopPropagation();var t=this.getStepSize(),n=T(this.getContainerScroll(),this.getContainerOffset(),t,1);this.scrollAnimationHandler.prepare(this.containerElement,n).start()},t.prototype.render=function(){var e=this,t=this.props,n=t.onNext,o=t.onPrevious,i=l(s.parrotScrollingStripe,t.stepSize?s.parrotScrollingBlock:null);return r.createElement("div",{className:s.parrotScrollingContainer},r.createElement("div",{className:s.parrotScrollingArea,onScroll:this.scrollListener.update,ref(t){e.containerElement=t}},r.createElement("div",{className:i},r.createElement("div",{className:s.parrotScrollingContent,ref(t){e.contentElement=t}},this.props.children))),r.createElement(f,{side:"left",onClick:o||this.scrollToPreviousSection,active:this.state.prevActive,small:this.props.smallNavigation}),r.createElement(f,{side:"right",onClick:n||this.scrollToNextSection,active:this.state.nextActive,small:this.props.smallNavigation}))},t}(i.Component);function x(e){var t=e.selectedIndex,n=e.images,o=e.selectionChanged,i=e.verticalThumbnails,a=e.changeImage;return r.createElement("div",{className:s.parrotThumbnailStripe},r.createElement(_,{selectedIndex:t,steps:n.length,stepSize:e.stepSize,smallNavigation:!0,followIndex:e.followIndex,displayChangedTimestamp:e.displayChangedTimestamp,verticalThumbnails:i},n.map((e,n)=>r.createElement(S,{url:e.url,alt:e.alt,fetchpriority:e.fetchpriority,selected:t===n,onClick:()=>o(n),onMouseEnter:()=>i&&a(n),key:n}))))}function P(e){var t=e.index,n=e.length,o=m();return n<=1?null:r.createElement("div",{className:s.parrotIndex},t+" "+o.from+" "+n)}var O=function(e){this.bodyElement=e.bodyElement,this.containerElement=e.containerElement,this.bounceHandle=!1,this.callbacks=e.callbacks};function L(e){var t=e.className,n=e.parentNode,o=document.createElement(e.tagName);return t&&(o.className=t),((e,t)=>{["onscroll","onclick","onwheel","onmousedown","ontouchstart","ontouchmove","ontouchend"].forEach(n=>{"function"==typeof e[n]&&(t[n]=e[n])})})(e,o),n&&n.appendChild(o),o}function N(e){return(t,n)=>{t&&n&&t.split(" ").forEach(t=>{t&&n.classList[e](t)})}}O.prototype.setHandleBounce=function(){var e=this;this.bounceHandle=!0,setTimeout(()=>{e.bounceHandle=!1},100)},O.prototype.keyPressFocusedOnGallery=function(e){return e.target===this.bodyElement||this.containerElement.contains(e.target)},O.prototype.keyPressed=function(e){this.keyPressFocusedOnGallery(e)&&this.callbacks[e.keyCode]&&(e.preventDefault(),this.bounceHandle||(this.setHandleBounce(),this.callbacks[e.keyCode](e)))};var M=N("add"),A=N("remove"),k=function(e,t){this.x=e||0,this.y=t||0};k.prototype.add=function(e){return new k(this.x+e.x,this.y+e.y)},k.prototype.scale=function(e){return new k(this.x*e,this.y*e)},k.prototype.subtract=function(e){return new k(this.x-e.x,this.y-e.y)};var R=()=>{};R.getCoords=(e,t)=>(0,R.pointerEventToPointerCoords)(e.touches[t]),R.getDistance=e=>{var t=e[1].subtract(e[0]);return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))},R.getMiddlePoint=e=>e[1].add(e[0]).scale(.5),R.getZoomMultiplier=(e,t)=>{var n=R.getDistance(e),o=R.getDistance(t);return 0===o?0:n/o-1},R.pointerEventToPointerCoords=e=>{var t=e.clientX,n=e.clientY,o=e.target.getBoundingClientRect(),i=new k(t,n),r=new k(o.left,o.top),s=new k(H.DEFAULT_SCROLL_POSITION,0);return i.subtract(r).subtract(s)};var H=function(e){var t=e.parent,n=e.onClick,o=e.onNext,i=e.onPrevious,r=e.canPan,s=e.onPan,a=e.onDoubleTap,l=e.onZoom;document&&(this.enabled=!0,this.enabledPanZoom=!1,this.enabledSwipe=!0,this.running=!1,this.parent=t,this.onClick=n,this.onNext=o,this.onPrevious=i,this.canPan=r,this.onPan=s,this.onDoubleTap=a,this.onZoom=l,C(this,["onScroll","onWheel","onMouseDown","onMouseMove","onMouseUp","enable","disable","enablePanZoom","disablePanZoom","enableSwipe","disableSwipe","onTouchMove","onTouchEnd"]))};function B(e,t){var n={};return["top","right","bottom","left","width","height"].forEach(o=>{n[o]=e[o]-t[o]}),n}function F(e){var t=e.width>=0,n=e.height>=0;return t&&n?0:t&&!n?1:!t&&n?2:3}function D(e,t,n){var o={};return o[0]=t,o[1]=new k(t.x,e.y),o[2]=new k(e.x,t.y),o[3]=e,o[n]}function z(e,t,n,o,i,r){var s=B(o,i),a=r?F(s):3;return D(r?((e,t,n)=>{var o=n.left-t.x,i=n.right-t.x,r=n.top-t.y,s=n.bottom-t.y,a=new k((i>0?i:0)+(o<0?o:0),(s>0?s:0)+(r<0?r:0));return e.add(a)})(e,t,s):e,((e,t)=>{var n=t.height,o=t.width;return new k((o-o*e)/2,(n-n*e)/2)})(n,o),a)}function Z(e,t){return null!==e&&"object"==typeof e?e[t]:e}H.prototype.new=function(){this.render(),this.resetScroll()},H.prototype.onScroll=function(){if(this.enabled&&this.enabledSwipe){var e=this.scrollyContainer.scrollLeft-H.DEFAULT_SCROLL_POSITION;e>H.REACTION_OFFSET&&(this.onNext(),this.new()),e<-H.REACTION_OFFSET&&(this.onPrevious(),this.new())}},H.prototype.hide=function(){M(s.hidden,this.scrollyContainer),this.scrollyContainer.onscroll=null},H.prototype.resetScroll=function(){this.scrollyContainer.scrollLeft=H.DEFAULT_SCROLL_POSITION},H.prototype.clearObsoleteElements=function(){this.hidden&&this.parent.removeChild(this.hidden),this.scrollyContainer&&(this.hide(),this.hidden=this.scrollyContainer)},H.prototype.enable=function(){this.enabled=!0},H.prototype.disable=function(){this.enabled=!1},H.prototype.enablePanZoom=function(){this.enabledPanZoom=!0},H.prototype.disablePanZoom=function(){this.enabledPanZoom=!1},H.prototype.enableSwipe=function(){this.enabledSwipe=!0},H.prototype.disableSwipe=function(){this.enabledSwipe=!1},H.prototype.onDoubleClick=function(e){var t=(0,R.pointerEventToPointerCoords)(e);this.onDoubleTap(t)},H.prototype.onMouseDown=function(e){var t=this;this.enabled&&this.enabledPanZoom&&(this.clicked?this.onDoubleClick(e):(this.clicked=!0,setTimeout(()=>{t.clicked=!1},H.DOUBLE_CLICK_TIMEOUT),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)))},H.prototype.onMouseMove=function(e){this.onPan(new k(e.movementX,e.movementY))},H.prototype.onMouseUp=function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},H.prototype.onWheel=function(e){var t=R.pointerEventToPointerCoords;if(this.enabled&&this.enabledPanZoom&&e.ctrlKey){e.preventDefault();var n=-(1===e.deltaMode?15*e.deltaY:e.deltaY)/100,o=t(e);this.onZoom(n,o)}},H.prototype.onTouchMove=function(e){var t=e.touches,n=R.getCoords,o=R.getMiddlePoint,i=R.getZoomMultiplier;if(this.enabled&&this.enabledPanZoom&&t){var r=t.length;if(r>=2?(e.preventDefault(),this.running?(this.multiTouchPairPrevious=this.multiTouchPairCurrent,this.multiTouchPairCurrent=[0,1].map(t=>n(e,t)),this.onZoom(i(this.multiTouchPairCurrent,this.multiTouchPairPrevious),o(this.multiTouchPairCurrent))):(this.running=!0,this.multiTouchPairCurrent=[0,1].map(t=>n(e,t)),this.multiTouchPairPrevious=this.multiTouchPairCurrent)):this.running=!1,1===r&&this.canPan()){e.preventDefault();var s=n(e,0);this.singleTouchCoords&&this.onPan(s.subtract(this.singleTouchCoords)),this.singleTouchCoords=s}}},H.prototype.onTouchEnd=function(e){this.singleTouchCoords=null;var t=e.touches;t&&t.length<2&&(this.running=!1)},H.prototype.render=function(){this.clearObsoleteElements(),this.scrollyContainer=L({tagName:"div",className:s.parrotScrollyNavigationContainer,onscroll:this.onScroll,onwheel:this.onWheel,onmousedown:this.onMouseDown,ontouchend:this.onTouchEnd,ontouchmove:this.onTouchMove}),this.bar=L({tagName:"div",className:s.parrotScrollyNavigationBar,onclick:this.onClick,parentNode:this.scrollyContainer}),this.parent.appendChild(this.scrollyContainer)},Object.defineProperties(H,{DEFAULT_SCROLL_POSITION:{value:50,writeable:!1},DOUBLE_CLICK_TIMEOUT:{value:300,writeable:!1},REACTION_OFFSET:{value:5,writeable:!1}});var U=function(e){function t(t){var n=this;e.call(this,t),this.state={imageIndex:0,thumbnailsFollowIndex:!0,fullscreen:!1,displayChangedTimestamp:0,disableFullscreen:t.disableFullscreen||!1,scale:1,point:new k,animateImages:!1},C(this,["openFullscreen","closeFullscreen","changeImageIndex","changeIndexFromThumbnails","setDisplayMode","onEscapeKey","onLeftArrowKey","onRightArrowKey","onRightButtonClick","onLeftButtonClick","onClientSideLoad","nextImage","previousImage","canPan","onPan","onDoubleClickZoom","onZoom","onResize","removeResizeListener","initializeGestureHandleOverlay","initializeKeyListener","alignTransform","forceRedrawCurrentImage","onClick","onMouseDown","changeImageOnHover","getNewPoint"]),this.containerElement=null,this.bodyElement=null,c.canUseDOM&&(this.bodyElement=document.getElementsByTagName("body")[0]),this.props.onHistoryPopState(()=>{n.containerElement&&(n.containerElement.style.visibility="hidden",n.closeFullscreen(),setTimeout(()=>{n.containerElement.style.visibility=""},0))}),this.globalFlagName="__pg"+(this.props.id||"")+"__",this.globalUnregisterName=(e=>"__pg"+(this.props.id||"")+"_U__")(),this.isServer=this.props.isServer||!("undefined"!=typeof window&&"document"in window),this.imagesLoaded=[]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.normalizeZoom=(e,n)=>{var o=n+e*n;return o<1?1:o>t.MAX_ZOOM?t.MAX_ZOOM:o},t.prototype.componentDidMount=function(){window.addEventListener("resize",this.setDisplayMode),this.initializeKeyListener(),this.initializeGestureHandleOverlay()},t.prototype.onEscapeKey=function(){this.state.fullscreen&&this.props.historyTriggerBack()},t.prototype.onLeftArrowKey=function(){this.previousImage()},t.prototype.onRightArrowKey=function(){this.nextImage()},t.prototype.onRightButtonClick=function(e){e&&e.stopPropagation(),this.nextImage()},t.prototype.onLeftButtonClick=function(e){e&&e.stopPropagation(),this.previousImage()},t.prototype.onClientSideLoad=function(e,t){this.isServer||(this.imagesLoaded[e]=t)},t.prototype.onPan=function(e){var n=this.state,o=n.scale,i=n.imageIndex,r=window.innerWidth<t.MEDIUM_BREAKPOINT;if(this.imageStripeContainer&&this.imagesLoaded[i]&&(r||1!==o)){var s=((e,t,n,o,i,r)=>z(!r&&((e,t,n)=>{var o=n.height,i=n.width,r=e.x,s=e.y;return s<0&&t.bottom<o/2||r<0&&t.right<i/2||s>0&&t.top>o/2||r>0&&t.left>i/2})(t,i,o)?e:e.add(t),t,n,o,i,r))(n.point,e,o,this.imageStripeContainer.getBoundingClientRect(),this.imagesLoaded[i].getBoundingClientRect(),r);this.setState({point:s})}},t.prototype.onMouseDown=function(e){this.startPoint=new k(e.clientX,e.clientY)},t.prototype.onClick=function(e){return this.enableOneClickZoom(e)?this.onDoubleClickZoom(e):!this.state.disableFullscreen&&this.openFullscreen()},t.prototype.onDoubleClickZoom=function(e){var n=this.state.scale,o=t.MAX_ZOOM/2;n<o?(this.onZoom(o/n-1,e,!0),M(s.parrotZoom,this.containerElement),this.sendEvent("galleryZoomIn")):(this.resetTransform(),this.enableSwipe(),A(s.parrotZoom,this.containerElement),this.sendEvent("galleryZoomOut"))},t.prototype.onZoom=function(e,n,o){var i=this.state,r=i.point,s=i.scale,a=i.imageIndex,l=t.normalizeZoom(e,s),c=this.props.verticalThumbnails?0:a;if(this.imagesLoaded[c]&&s!==l){var p=this.imageStripeContainer.getBoundingClientRect(),h=this.imagesLoaded[c].getBoundingClientRect(),u=this.enableOneClickZoom(n)?this.getNewPoint(n):((e,t,n)=>{var o=F(B(t,n));return D(e,new k(t.width/2,t.height/2),o)})(n,p,h),d=u.subtract(r).scale(1/s);if(l>1){var m={point:d.scale(-l).add(u),scale:l};o?this.enableTransformTransitionOnce():this.disableTransformTransition(),this.disableSwipe(),this.updateTransform(m),this.addResizeListener()}else this.enableSwipe(),this.resetTransform();this.setZoomTimeout()}},t.prototype.onResize=function(){this.resetTransform(),this.removeResizeListener()},t.prototype.getNewPoint=function(e){var n=e.x,o=e.y;return this.props.verticalThumbnails?new k(n-t.LEFT_SPACE,o-t.BOTTOM_SPACE):new k(n,o)},t.prototype.setDisplayMode=function(){this.setState({displayChangedTimestamp:(new Date).getTime()})},t.prototype.getStateSummary=function(){return{fullscreen:this.state.fullscreen,imageCount:this.props.images.length,currentImageIndex:this.state.imageIndex}},t.prototype.setZoomTimeout=function(){clearTimeout(this.zoomTimeout),this.zoomTimeout=setTimeout(this.alignTransform,t.ALIGN_TIMEOUT)},t.prototype.enableOneClickZoom=function(e){var n=window.innerWidth<t.MEDIUM_BREAKPOINT;return this.state.fullscreen&&!n&&this.startPoint&&this.startPoint.x===e.x&&this.startPoint.y===e.y},t.prototype.sendEvent=function(e){window.opbox&&window.opbox.analytics.sendBoxInteractionEvent({contextNode:this.containerElement,label:"",value:e,customParams:{}})},t.prototype.updateTransform=function(e){var t=this;requestAnimationFrame?this.pendingAnimation||(this.pendingAnimation=!0,requestAnimationFrame(()=>{t.pendingAnimation=!1,t.setState(e)})):this.setState(e)},t.prototype.alignTransform=function(){var e=window.innerWidth<t.MEDIUM_BREAKPOINT;if(!this.state.fullscreen||e){var n=this.state,o=n.scale,i=n.imageIndex,r=((e,t,n,o,i)=>z(e,new k(0,0),t,n,o,i))(n.point,o,this.imageStripeContainer.getBoundingClientRect(),this.imagesLoaded[i].getBoundingClientRect(),e);this.enableTransformTransitionOnce(),this.updateTransform({point:r,scale:o}),setTimeout(this.forceRedrawCurrentImage,t.TRANSFORM_TRANSITION_DURATION)}},t.prototype.forceRedrawCurrentImage=function(){var e,t;t=(e=this.imagesLoaded[this.state.imageIndex].parentNode).style.display,e.style.display="none",e.offsetHeight,e.style.display=t},t.prototype.canPan=function(){return this.state.scale>1},t.prototype.disableTransformTransition=function(){this.setState({animateImages:!1})},t.prototype.enableTransformTransitionOnce=function(){var e=this;this.setState({animateImages:!0}),setTimeout(()=>e.setState({animateImages:!1}),t.TRANSFORM_TRANSITION_DURATION)},t.prototype.initializeGestureHandleOverlay=function(){this.imageStripeContainer&&!this.gestureHandleOverlay&&(this.gestureHandleOverlay=new H({parent:this.imageStripeContainer,onClick:this.onClick,onNext:this.nextImage,onPrevious:this.previousImage,canPan:this.canPan,onPan:this.onPan,onDoubleTap:this.onDoubleClickZoom,onZoom:this.onZoom}),this.gestureHandleOverlay.new())},t.prototype.initializeKeyListener=function(){var e,t=this;c.canUseEventListeners&&this.containerElement&&!this.keyListener&&(this.keyListener=new O({bodyElement:this.bodyElement,containerElement:this.containerElement,callbacks:(e={},e[27]=this.onEscapeKey,e[37]=this.onLeftArrowKey,e[39]=this.onRightArrowKey,e)}),document.addEventListener("keydown",e=>t.keyListener.keyPressed(e)))},t.prototype.preventScroll=function(){M(s.parrotNoScroll,this.bodyElement)},t.prototype.allowScroll=function(){A(s.parrotNoScroll,this.bodyElement)},t.prototype.enablePanZoom=function(){this.gestureHandleOverlay&&this.gestureHandleOverlay.enablePanZoom()},t.prototype.disablePanZoom=function(){this.gestureHandleOverlay&&this.gestureHandleOverlay.disablePanZoom()},t.prototype.enableSwipe=function(){this.gestureHandleOverlay&&this.gestureHandleOverlay.enableSwipe()},t.prototype.disableSwipe=function(){this.gestureHandleOverlay&&this.gestureHandleOverlay.disableSwipe()},t.prototype.disableGestureCapture=function(){this.gestureHandleOverlay&&this.gestureHandleOverlay.disable()},t.prototype.enableGestureCapture=function(){this.gestureHandleOverlay&&(this.gestureHandleOverlay.resetScroll(),setTimeout(this.gestureHandleOverlay.enable,10))},t.prototype.openFullscreen=function(){if(!this.state.fullscreen&&(this.props.storeHistoryState(),this.props.replaceHistoryState("gallery"),this.disableGestureCapture(),this.setState({fullscreen:!0},this.setDisplayMode),this.props.pushHistoryState("gallery-fullscreen"),this.preventScroll(),this.enablePanZoom(),this.enableGestureCapture(),this.props.onFullScreenOpen)){var e=this.getStateSummary();this.props.onFullScreenOpen({state:e})}},t.prototype.addResizeListener=function(){this.hasResizeListener||(window.addEventListener("resize",this.onResize),this.hasResizeListener=!0)},t.prototype.removeResizeListener=function(){window.removeEventListener("resize",this.onResize),delete this.hasResizeListener},t.prototype.closeFullscreen=function(){if("gallery"===window.history.state&&this.state.fullscreen&&(this.props.restoreHistoryState(),this.disableGestureCapture(),this.setState({fullscreen:!1},this.setDisplayMode),this.allowScroll(),this.resetTransform(),this.disablePanZoom(),this.removeResizeListener(),this.enableSwipe(),this.enableGestureCapture(),this.props.onFullScreenClose)){var e=this.getStateSummary();this.props.onFullScreenClose({state:e})}},t.prototype.changeImageIndex=function(e,t){return void 0===t&&(t=!0),!(!this.checkImageIndexBounds(e)||this.state.imageIndex===e||(this.setState({imageIndex:e,thumbnailsFollowIndex:t}),this.containerElement&&A(s.parrotZoom,this.containerElement),this.resetTransform(),this.enableSwipe(),0))},t.prototype.checkImageIndexBounds=function(e){return e>=0&&e<=this.props.images.length-1},t.prototype.changeImageIndexBy=function(e){this.resetTransform();var t=this.changeImageIndex(this.state.imageIndex+e);return this.enableSwipe(),t},t.prototype.previousImage=function(){var e=this.changeImageIndexBy(-1);if(this.props.onPhotoChange&&e){var t=this.getStateSummary();this.props.onPhotoChange({direction:"prev",state:t})}},t.prototype.nextImage=function(){var e=this.changeImageIndexBy(1);if(this.props.onPhotoChange&&e){var t=this.getStateSummary();this.props.onPhotoChange({direction:"next",state:t})}},t.prototype.changeImageOnHover=function(e){var n=this;if(this.changeImageIndex(e,!1),this.props.onThumbnailEnter){var o=Object.assign({},{thumbnailIndex:e},this.getStateSummary());clearTimeout(this.previewTimeout),this.previewTimeout=setTimeout(()=>e===n.state.imageIndex&&n.props.onThumbnailEnter({state:o}),t.MIN_PREVIEW_TIME)}},t.prototype.changeIndexFromThumbnails=function(e){if(this.changeImageIndex(e),this.props.onThumbnailClick){var t=this.getStateSummary();this.props.onThumbnailClick({state:t})}},t.prototype.resetTransform=function(){this.enableTransformTransitionOnce(),this.setState({point:new k,scale:1})},t.prototype.render=function(){var e=this,n=this.props,o=n.images,a=n.nonce,c=n.translations,h=this.state,u=h.imageIndex,m=h.fullscreen,f=h.thumbnailsFollowIndex,S=h.displayChangedTimestamp,b=h.point,T=h.scale,w=h.animateImages;if(!o||0===o.length)return r.createElement(i.Fragment,null,r.createElement(p,{nonce:a}),r.createElement(g,{nonce:a}));var C=this.props.verticalThumbnails,E=l(s.parrotContainer,m?s.parrotContainerFullscreen:null,C?s.verticalThumbnails:null),I=m?"original":"embeded",_=C?t.STEP_VERTICAL:t.STEP;return r.createElement(d.Provider,{value:c},r.createElement("div",{ref(t){e.containerElement=t,e.initializeKeyListener()},className:E,onMouseDown:this.onMouseDown,role:"presentation"},r.createElement("div",{ref(t){e.imageStripeContainer=t,e.initializeGestureHandleOverlay()},className:s.parrotStripe},r.createElement(v,{images:o.map(e=>({alt:e.alt,url:e[I],placeholder:e.placeholder||null,fetchpriority:Z(e.fetchpriority,I)})),selectedIndex:u,onLoad:this.onClientSideLoad,onNext:this.onRightButtonClick,onPrevious:this.onLeftButtonClick,scale:T,x:b.x,y:b.y,animateImages:w,verticalThumbnails:C}),r.createElement(g,{nonce:a})),r.createElement(P,{length:o.length,index:u+1}),r.createElement(x,{images:o.map(e=>({alt:e.alt,url:e.thumbnail,fetchpriority:Z(e.fetchpriority,"thumbnail")})),followIndex:f,displayChangedTimestamp:S,selectedIndex:u,selectionChanged:this.changeIndexFromThumbnails,verticalThumbnails:C,changeImage:this.changeImageOnHover,stepSize:_}),m&&r.createElement(y,{onClick:this.onEscapeKey})))},t}(i.Component);U.defaultProps={historyTriggerBack(){},pushHistoryState(){},replaceHistoryState(){},storeHistoryState(){},restoreHistoryState(){},onHistoryPopState(){},translations:u},Object.defineProperties(U,{TRANSFORM_TRANSITION_DURATION:{value:250,writeable:!1},ALIGN_TIMEOUT:{value:200,writeable:!1},MAX_ZOOM:{value:5,writeable:!1},MEDIUM_BREAKPOINT:{value:768,writeable:!1},MIN_PREVIEW_TIME:{value:500,writeable:!1},LEFT_SPACE:{value:150,writeable:!1},BOTTOM_SPACE:{value:24,writeable:!1},STEP:{value:82,writeable:!1},STEP_VERTICAL:{value:104,writeable:!1}});var j,K=(j=U,function(e){function t(t){e.call(this,t),this.state={listener:null},C(this,["isActive","onHistoryPopState","pushHistoryState","storeHistoryState","restoreHistoryState","replaceHistoryState","removeHistoryPopStateListener","triggerBack"])}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.componentWillUnmount=function(){this.removeHistoryPopStateListener()},t.prototype.onHistoryPopState=function(e){c.canUseEventListeners&&(window.addEventListener("popstate",e),this.setState({listener:e}))},t.prototype.isActive=function(){return c.canUseEventListeners&&this.state.listener},t.prototype.removeHistoryPopStateListener=function(){this.isActive()&&(window.removeEventListener("popstate",this.state.listener),this.setState({listener:null}))},t.prototype.pushHistoryState=function(e){this.isActive()&&window.history.pushState(e,e)},t.prototype.replaceHistoryState=function(e){this.isActive()&&window.history.replaceState(e,e)},t.prototype.storeHistoryState=function(){this.isActive()&&this.setState({historyState:window.history.state})},t.prototype.restoreHistoryState=function(){this.isActive()&&window.history.replaceState(this.state.historyState,"restored")},t.prototype.triggerBack=function(){this.isActive()&&window.history.back()},t.prototype.render=function(){return r.createElement(j,Object.assign({},this.props,{historyTriggerBack:this.triggerBack,pushHistoryState:this.pushHistoryState,replaceHistoryState:this.replaceHistoryState,storeHistoryState:this.storeHistoryState,restoreHistoryState:this.restoreHistoryState,onHistoryPopState:this.onHistoryPopState}))},t}(r.Component));e.exports=K},O14P(e,t,n){n.r(t);var o=n("cDcd"),i=n.n(o),r=n("faye"),s=n.n(r),a=n("rRL6"),l=n.n(a),c=n("NbQ6"),p=n.n(c);function h(e){var t,n,o="";if(e)if("object"==typeof e)if(e.push)for(t=0;t<e.length;t++)e[t]&&(n=h(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(n=h(t))&&(o&&(o+=" "),o+=n);else"boolean"==typeof e||e.call||(o&&(o+=" "),o+=e);return o}var u=n("rO9z");function d({value:e,galleryEvent:t,withFullscreenStateLabel:n,contextNode:o}){if(!t||!t.state)return;const{imageCount:i,currentImageIndex:r,thumbnailIndex:s}=t.state,a=t.state.fullscreen?"open":"closed";window.opbox.analytics.sendBoxInteractionEvent(Object.assign({contextNode:o,value:e},n?{label:a}:{},{customParams:{imageCount:i,currentImageIndex:r,thumbnailIndex:s}}))}const{useRef:m,createElement:f}=i.a;var v=({images:e,fixedSmallBreakpointHeight:t,fixedMediumBreakpointHeight:n,fixedDefaultHeight:o,fillRelativeParent:i,nonce:r,translations:s,verticalThumbnails:a})=>{const l=m(),c=function(){for(var e,t=0,n="";t<arguments.length;)(e=h(arguments[t++]))&&(n&&(n+=" "),n+=e);return n}("mse2_k4",o&&"_e5e62_Y1JOo",t&&"_e5e62_st0cB",n&&"_e5e62_3N5S8",i&&"mp7g_f6 mq1m_0 mnjl_0 mqm6_0 mj7u_0");return f("div",{className:c,ref:l},f(p.a,{images:e,classNames:u,onFullScreenOpen(e){((e,t)=>{d({value:"galleryOpen",galleryEvent:t,contextNode:e})})(l.current,e)},onFullScreenClose(e){((e,t)=>{d({value:"galleryClose",galleryEvent:t,contextNode:e})})(l.current,e)},onPhotoChange(e){"next"===e.direction?((e,t)=>{d({value:"next",galleryEvent:t,withFullscreenStateLabel:!0,contextNode:e})})(l.current,e):"prev"===e.direction&&((e,t)=>{d({value:"prev",galleryEvent:t,withFullscreenStateLabel:!0,contextNode:e})})(l.current,e)},onThumbnailClick(e){((e,t)=>{d({value:"clickThumbnail",galleryEvent:t,withFullscreenStateLabel:!0,contextNode:e})})(l.current,e)},onThumbnailEnter(e){((e,t)=>{d({value:"hoverThumbnail",galleryEvent:t,withFullscreenStateLabel:!0,contextNode:e})})(l.current,e)},nonce:r,translations:s,verticalThumbnails:a}))};window.opbox.component.register({clientImplementationVersion:l.a,prototypeName:"allegro.gallery"},class{constructor({baseNode:e,props:t}){this.container=e.querySelector('[data-role="app-container"]'),this.props=t}onMount(){s.a.hydrate(i.a.createElement(v,Object.assign({},this.props)),this.container)}onUnmount(){s.a.unmountComponentAtNode(this.container)}})},cDcd(e,t){e.exports=window.React_16_8_1},faye(e,t){e.exports=window.ReactDOM_16_8_1},rO9z(e,t,n){n.r(t),n.d(t,"parrotContainer",()=>o),n.d(t,"parrotContainerFullscreen",()=>i),n.d(t,"parrotNoScroll",()=>r),n.d(t,"parrotStripeContainer",()=>s),n.d(t,"parrotStripe",()=>a),n.d(t,"parrotImageContainer",()=>l),n.d(t,"parrotImageContainerTransition",()=>c),n.d(t,"parrotImage",()=>p),n.d(t,"parrotNavButton",()=>h),n.d(t,"parrotNavButtonSmall",()=>u),n.d(t,"parrotScrollingContainer",()=>d),n.d(t,"parrotNavButtonActive",()=>m),n.d(t,"parrotNavButtonLeft",()=>f),n.d(t,"parrotNavButtonRight",()=>v),n.d(t,"parrotCloseButton",()=>g),n.d(t,"parrotPlaceholder",()=>y),n.d(t,"parrotCustomPlaceholder",()=>S),n.d(t,"parrotActiveImage",()=>b),n.d(t,"parrotThumbnailStripe",()=>T),n.d(t,"parrotIndex",()=>w),n.d(t,"parrotThumbnail",()=>C),n.d(t,"parrotThumbnailImage",()=>E),n.d(t,"parrotThumbnailIndicator",()=>I),n.d(t,"parrotScrollingArea",()=>_),n.d(t,"parrotScrollingStripe",()=>x),n.d(t,"parrotScrollingBlock",()=>P),n.d(t,"parrotScrollingContent",()=>O),n.d(t,"parrotMarginPositioning",()=>L),n.d(t,"parrotScrollyNavigationContainer",()=>N),n.d(t,"parrotScrollyNavigationBar",()=>M),n.d(t,"hidden",()=>A),n.d(t,"parrotPreviewContainer",()=>k),n.d(t,"parrotZoom",()=>R),n.d(t,"verticalThumbnails",()=>H);var o="_e5e62_MQmce",i="_e5e62_dxdIZ",r="_e5e62_TF8LE",s="_e5e62_wqOKG",a="_e5e62_COIMT",l="_e5e62_x-G7P",c="_e5e62_QXFdp",p="_e5e62_koq45",h="_e5e62_o5TMl",u="_e5e62_Woz4p",d="_e5e62_kiuvm",m="_e5e62_69qDM",f="_e5e62_Tlf75",v="_e5e62_z45kA",g="_e5e62_fFgeg",y="_e5e62_SXt6T",S="_e5e62_zPcYB",b="_e5e62_gmmGX",T="_e5e62_F3bWa",w="_e5e62_2IaS6",C="_e5e62_U0UTX",E="_e5e62_d3wWH",I="_e5e62_mdn5V",_="_e5e62_tfk-y",x="_e5e62_iv-XT",P="_e5e62_kD87Y",O="_e5e62_x3y7t",L="_e5e62_Fizl-",N="_e5e62_VLJbd",M="_e5e62_pz-B8",A="_e5e62_w4fjz",k="_e5e62_KNBn7",R="_e5e62_9ajkK",H="_e5e62_8Q7g-"},rRL6(e,t){e.exports="73e"}}));
//# sourceMappingURL=index.es6-pl-PL_a675b4fe.js.map